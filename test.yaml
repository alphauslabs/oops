env:
  key1: val1
  key2: val2
run:
- http:
    method: GET
    url: "http://localhost:8080"
    headers:
      Authorization: |
        #!/bin/bash
        echo "Bearer <token>"
      Content-Type: application/json
    query_params:
    request_payload: |
        #!/bin/bash
        echo "Bearer <token>"
    response_out: out.txt
    asserts:
      shell: |
        #!/bin/bash
        echo "Bearer $(ccf token --login-url logindev.mobingi.com/ripple --username $MOBINGI_RIPPLE_USERNAME --password $MOBINGI_RIPPLE_PASSWORD --client-id $MOBINGI_RIPPLE_OPENID_WEB_CLIENT_ID --client-secret $MOBINGI_RIPPLE_OPENID_WEB_CLIENT_SECRET)"
- http:
    method: GET
    url: "http://localhost:8080"
    headers:
      Authorization: |
        #!/bin/bash
        echo "Bearer <token>"
      Content-Type: application/json
    query_params:
    request_payload: |
        #!/bin/bash
        echo "Bearer <token>"
    response_out: out.txt
    asserts:
      shell: |
        #!/bin/bash
        echo "Bearer $(ccf token --login-url logindev.mobingi.com/ripple --username $MOBINGI_RIPPLE_USERNAME --password $MOBINGI_RIPPLE_PASSWORD --client-id $MOBINGI_RIPPLE_OPENID_WEB_CLIENT_ID --client-secret $MOBINGI_RIPPLE_OPENID_WEB_CLIENT_SECRET)"

asserts:
  shell: |
    #!/bin/bash
    echo "shell"
